# Eclipse Mosquitto MQTT Broker Configuration
# AI Scraper VM Configuration

# Basic settings
pid_file /var/run/mosquitto.pid
user mosquitto

# Persistence
persistence true
persistence_location /app/data/mqtt/
autosave_interval 1800

# Logging
log_dest file /app/logs/mosquitto.log
log_type all
log_timestamp true
connection_messages true

# Security (for production, enable authentication)
allow_anonymous true
# password_file /app/mqtt/passwords

# Listeners
listener 1883
protocol mqtt

listener 9001
protocol websockets

# Topic access control (for production)
# acl_file /app/mqtt/acl

# QoS and message settings
max_inflight_messages 20
max_queued_messages 1000
message_size_limit 0

# Connection settings
keepalive_interval 60
retry_interval 20

# System topics
sys_interval 10